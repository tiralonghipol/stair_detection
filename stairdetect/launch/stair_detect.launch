<launch>
    <arg name="rviz" default="true" />
    <node name="stairdetect" pkg="stairdetect" type="stairdetect_node" clear_params="true" output="screen">

        <!-- topic names -->
        <param name="topic_stitched_pointcloud" value="/lidar_stitch/points_stitched" type="str"/>
        <param name="topic_pose" value="/msf_core/pose" type="str"/>
        <param name="topic_trimmed_pcl" value="trimmed_pcl" type="str"/>
        <param name="topic_bird_eye_img" value="bird_eye_img" type="str"/>
        <param name="topic_edge_img" value="edge_img" type="str"/>
        <param name="topic_line_img" value="line_img" type="str"/>

        <!-- dynamic parameters-->
        <param name="debug" value="true" type="bool"/>
        <param name="canny_low_th" value="50" type="double"/>
        <param name="canny_ratio" value="10" type="double"/>
        <param name="canny_kernel_size" value="1" type="int"/>

        <param name="hough_min_line_length" value="60" type="double"/>
        <param name="hough_max_line_gap" value="8" type="double"/>
        <param name="hough_th" value="50" type="double"/>
        <param name="hough_rho" value="1" type="int"/>
        <param name="hough_theta" value="1" type="double"/>

        <param name="lsd_scale" value=" 0.8" type="double"/>
        <param name="lsd_sigma_scale" value=" 0.6" type="double"/>
        <param name="lsd_quant" value="2.0" type="double"/>
        <param name="lsd_angle_th" value="22.5" type="double"/>
        <param name="lsd_log_eps" value="0.0" type="double"/>
        <param name="lsd_density_th" value="0.7" type="double"/>

        <param name="filter_slope_hist_bin_width" value="10" type="double"/>

        <!-- specify which type of line detection -->
        <!-- <param name="line_detection_method" value="hough" type="str"/> -->
        <param name="line_detection_method" value="lsd" type="str"/>

        <!-- timing -->
        <param name="stair_detect_timing" value="5.0" type="double"/>

    </node>

    <!-- <node pkg="rviz" type="rviz" name="rviz" args="-d $(find stairdetect)/rviz/stair_detect_test.rviz" /> -->

</launch>

